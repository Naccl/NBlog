<p align="center">
	<a href="https://naccl.top/" target="_blank">
		<img src="./pic/NBlog.png" alt="NBlog logo" style="width: 200px; height: 200px">
	</a>
</p>
<p align="center">
	<img src="https://img.shields.io/badge/JDK-1.8+-orange">
	<img src="https://img.shields.io/badge/SpringBoot-2.2.7.RELEASE-brightgreen">
	<img src="https://img.shields.io/badge/MyBatis-3.5.5-red">
	<img src="https://img.shields.io/badge/Vue-2.6.11-brightgreen">
	<img src="https://img.shields.io/badge/license-MIT-blue">
	<img src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fgithub.com%2FNaccl%2FNBlog&count_bg=%2344CC11&title_bg=%23555555&icon=notist.svg&icon_color=%231296DB&title=hits&edge_flat=false">
</p>




## ç®€ä»‹

æœ¬ç€ã€å‰åç«¯åˆ†ç¦»ï¼Œäººä¸åˆ†ç¦»ã€çš„è¦é¢†ï¼Œå¼€å‘äº†æ­¤åŸºäº Spring Boot + Vue å‰åç«¯åˆ†ç¦»åšå®¢ç³»ç»Ÿ

é¢„è§ˆåœ°å€ï¼š

å‰å°ï¼š[https://naccl.top](https://naccl.top)

åå°ï¼š[https://admin.naccl.top](https://admin.naccl.top) è´¦å·`Visitor`å¯†ç `123456`



## åç«¯

1. æ ¸å¿ƒæ¡†æ¶ï¼š[Spring Boot](https://github.com/spring-projects/spring-boot)
2. å®‰å…¨æ¡†æ¶ï¼š[Spring Security](https://github.com/spring-projects/spring-security)
3. Token è®¤è¯ï¼š[jjwt](https://github.com/jwtk/jjwt)
4. æŒä¹…å±‚æ¡†æ¶ï¼š[MyBatis](https://github.com/mybatis/spring-boot-starter)
5. åˆ†é¡µæ’ä»¶ï¼š[PageHelper](https://github.com/pagehelper/Mybatis-PageHelper)
6. NoSQLç¼“å­˜ï¼š[Redis](https://github.com/redis/redis)
7. Markdown è½¬ HTMLï¼š[commonmark-java](https://github.com/commonmark/commonmark-java)
8. ç¦»çº¿ IP åœ°å€åº“ï¼š[ip2region](https://github.com/lionsoul2014/ip2region)
9. å®šæ—¶ä»»åŠ¡ï¼š[quartz](https://github.com/quartz-scheduler/quartz)
10. UserAgent è§£æï¼š[yauaa](https://github.com/nielsbasjes/yauaa)



é‚®ä»¶æ¨¡æ¿å‚è€ƒè‡ª[Typecho-CommentToMail-Template](https://github.com/MisakaTAT/Typecho-CommentToMail-Template)

åŸºäº JDK8 å¼€å‘ï¼Œ8ä»¥ä¸Šè¦æ·»åŠ ä¾èµ–ï¼š

```xml
<dependency>
    <groupId>javax.xml.bind</groupId>
    <artifactId>jaxb-api</artifactId>
    <version>2.3.0</version>
</dependency>
```



## å‰ç«¯

æ ¸å¿ƒæ¡†æ¶ï¼šVue2.xã€Vue Routerã€Vuex

Vue é¡¹ç›®åŸºäº @vue/cli4.x æ„å»º

JS ä¾èµ–åŠå‚è€ƒçš„ cssï¼š[axios](https://github.com/axios/axios)ã€[moment](https://github.com/moment/moment)ã€[nprogress](https://github.com/rstacruz/nprogress)ã€[v-viewer](https://github.com/fengyuanchen/viewerjs)ã€[prismjs](https://github.com/PrismJS/prism)ã€[APlayer](https://github.com/DIYgod/APlayer)ã€[MetingJS](https://github.com/metowolf/MetingJS)ã€[lodash](https://github.com/lodash/lodash)ã€[mavonEditor](https://github.com/hinesboy/mavonEditor)ã€[echarts](https://github.com/apache/echarts)ã€[tocbot](https://github.com/tscanlin/tocbot)ã€[iCSS](https://github.com/chokcoco/iCSS)



### åå° UI

åå° CMS éƒ¨åˆ†åŸºäº [vue-admin-template](https://github.com/PanJiaChen/vue-admin-template) äºŒæ¬¡ä¿®æ”¹åçš„ [my-vue-admin-template](https://github.com/Naccl/my-vue-admin-template) æ¨¡æ¿è¿›è¡Œå¼€å‘ï¼ˆ[äº2021å¹´11æœˆ1æ—¥é‡æ„](https://github.com/Naccl/NBlog/commit/b33641fe34b2bed34e8237bacf67146cd64be4cf)ï¼‰

UI æ¡†æ¶ä¸º [Element UI](https://github.com/ElemeFE/element)



### å‰å° UI

[Semantic UI](https://semantic-ui.com/)ï¼šä¸»è¦ä½¿ç”¨ï¼Œé¡µé¢å¸ƒå±€æ ·å¼ï¼Œä¸ªäººæ„Ÿè§‰æŒºå¥½çœ‹çš„ UI æ¡†æ¶ï¼Œæ¯”è¾ƒé€‚åˆå‰å°ç•Œé¢çš„å¼€å‘ï¼Œè¯­ä¹‰åŒ–çš„ cssï¼Œå‰ä¸€ç‰ˆåšå®¢ç³»ç»Ÿä½¿ç”¨è¿‡ï¼Œå¯æƒœè¯¥æ¡†æ¶ Vue ç‰ˆçš„å¼€å‘å®Œæˆåº¦ä¸é«˜ï¼Œè§ [Semantic UI Vue](https://semantic-ui-vue.github.io/#/)

[Element UI](https://github.com/ElemeFE/element)ï¼šéƒ¨åˆ†ä½¿ç”¨ï¼Œä¸€äº›å°ç»„ä»¶ï¼Œå¼¥è¡¥äº† Semantic UI çš„ä¸è¶³ï¼Œä¾¿äºå¿«é€Ÿå®ç°æ•ˆæœ

æ–‡ç« æ’ç‰ˆï¼šåŸºäº [typo.css](https://github.com/sofish/typo.css) ä¿®æ”¹



## æœ€è¿‘æ›´æ–°

æ”¯æŒ Telegram Bot å¿«æ·æ“ä½œ

| æ¡Œé¢                                                         | Phone                                                        | Phone                                                        |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| ![æ¡Œé¢å®¢æˆ·ç«¯æ•ˆæœå›¾](./pic/TelegramBot.png "æ¡Œé¢å®¢æˆ·ç«¯æ•ˆæœå›¾") | ![æ‰‹æœºå®¢æˆ·ç«¯æ•ˆæœå›¾1](./pic/TgBotPhone1.png "æ‰‹æœºå®¢æˆ·ç«¯æ•ˆæœå›¾1") | ![æ‰‹æœºå®¢æˆ·ç«¯æ•ˆæœå›¾2](./pic/TgBotPhone2.png "æ‰‹æœºå®¢æˆ·ç«¯æ•ˆæœå›¾2") |

è‹¥è¦å¯ç”¨è¯¥åŠŸèƒ½ï¼Œå‚è€ƒä»¥ä¸‹æ­¥éª¤ï¼š

1. å‘ @BotFather ç”³è¯·ä¸€ä¸ª Botï¼Œå¾—åˆ°è¯¥ Bot çš„`token`ï¼Œæ ¼å¼å¦‚`1234567890:qwertyuiopasdfghjklzxcvbnm`
2. ä¸è¯¥ Bot ç§èŠï¼Œéšä¾¿å‘ä¸ªæ¶ˆæ¯ï¼Œç„¶åæ‰“å¼€æ­¤é“¾æ¥`https://api.telegram.org/bot<botToken>/getUpdates`ï¼ˆæ›¿æ¢é“¾æ¥ä¸­çš„ tokenï¼‰ï¼Œåœ¨`result -> message -> chat -> id`å¾—åˆ°`chatId`
3. å°†è·å–çš„`token`å’Œ`chatId`å¡«å…¥`application-dev.properties`ï¼Œå¹¶å¯ç”¨`comment.notify.channel=tg`
4. ç”±äºç›®å‰ä»…æä¾› webhook çš„æ–¹å¼è·å–æ¶ˆæ¯æ›´æ–°ï¼Œæ‰€ä»¥`application-dev.properties`ä¸­çš„`blog.api`éœ€è¦å¡«å†™åç«¯ API çš„åœ°å€ï¼Œå¹¶ä¸”**å¿…é¡»æ˜¯`https`(Telegram çš„è¦æ±‚)**ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœä½ æ²¡æœ‰å…¬ç½‘ IP æˆ–å†…ç½‘ç©¿é€æˆ–åå‘ä»£ç†ï¼Œé‚£ä¹ˆåœ¨æœ¬åœ°ç¯å¢ƒæ˜¯æ— æ³•æµ‹è¯•çš„ï¼Œå»ºè®®ç›´æ¥æ‰”æœåŠ¡å™¨ä¸Š
5. å› ä¸º GFW çš„å­˜åœ¨ï¼Œæ­£å¸¸æ— æ³•è®¿é—® TG çš„ APIï¼Œå› æ­¤æä¾›äº†ä¸¤ç§æ–¹å¼
   1. ä»£ç†ï¼šé…ç½®`http.proxy.server`ï¼Œé€šè¿‡ä½ çš„ä»£ç†å‘é€è¯·æ±‚
   2. åå‘ä»£ç†ï¼šå¯ä»¥ç›´æ¥ä½¿ç”¨æˆ‘è·‘åœ¨ Cloudflare Workers ä¸Šçš„åä»£ï¼Œé»˜è®¤é…ç½®å³å¯ï¼Œä½†å»ºè®®è‡ªè¡Œæ­å»ºï¼Œç¤ºä¾‹åä»£éšæ—¶å¯èƒ½å…³é—­ğŸ™ƒã€‚ç¤ºä¾‹ä»£ç å·²æ”¾åœ¨`blog-api/cfworker-tg-api-open.js`ï¼ŒCV å³å¯ run



## å¿«é€Ÿå¼€å§‹

1. åˆ›å»º MySQL æ•°æ®åº“`nblog`ï¼Œå¹¶æ‰§è¡Œ`/blog-api/nblog.sql`åˆå§‹åŒ–è¡¨æ•°æ®
2. ä¿®æ”¹é…ç½®ä¿¡æ¯`blog-api/src/main/resources/application-dev.properties`
3. å®‰è£… Redis å¹¶å¯åŠ¨
4. å¯åŠ¨åç«¯æœåŠ¡
5. åˆ†åˆ«åœ¨`blog-cms`å’Œ`blog-view`ç›®å½•ä¸‹æ‰§è¡Œ`npm install`å®‰è£…ä¾èµ–
6. åˆ†åˆ«åœ¨`blog-cms`å’Œ`blog-view`ç›®å½•ä¸‹æ‰§è¡Œ`npm run serve`å¯åŠ¨å‰åå°é¡µé¢



## æ³¨æ„äº‹é¡¹

ä¸€äº›å¸¸è§é—®é¢˜ï¼š

- MySQL ç¡®ä¿æ•°æ®åº“å­—ç¬¦é›†ä¸º`utf8mb4`çš„æƒ…å†µä¸‹é€šå¸¸æ²¡æœ‰é—®é¢˜ï¼ˆâ€ç«™ç‚¹è®¾ç½®â€œåŠâ€æ–‡ç« è¯¦æƒ…â€œç­‰è®¸å¤šè¡¨å­—æ®µéœ€è¦`utf8mb4`æ ¼å¼å­—ç¬¦é›†æ¥æ”¯æŒ emoji è¡¨æƒ…ï¼Œå¦åˆ™åœ¨å¯¼å…¥ sql æ–‡ä»¶æ—¶ï¼Œå³ä½¿æˆåŠŸå¯¼å…¥ï¼Œä¹Ÿä¼šæœ‰éƒ¨åˆ†å­—æ®µå†…å®¹ä¸å®Œæ•´ï¼Œå¯¼è‡´å‰ç«¯é¡µé¢æ¸²æŸ“æ•°æ®æ—¶æŠ¥é”™ï¼‰
- ç¡®ä¿ Maven èƒ½å¤ŸæˆåŠŸå¯¼å…¥ç°ç‰ˆæœ¬ä¾èµ–ï¼Œè¯·å‹¿å‡çº§æˆ–é™ä½ä¾èµ–ç‰ˆæœ¬
- æ•°æ®åº“ä¸­é»˜è®¤ç”¨æˆ·åå¯†ç ä¸º`Admin`ï¼Œ`123456`ï¼Œå› ä¸ºæ˜¯ä¸ªäººåšå®¢ï¼Œæ²¡æ‰“ç®—åšä¿®æ”¹å¯†ç çš„é¡µé¢ï¼Œå¯åœ¨`top.naccl.util.HashUtils`ä¸‹çš„`main`æ–¹æ³•æ‰‹åŠ¨ç”Ÿæˆå¯†ç å­˜å…¥æ•°æ®åº“
- æ³¨æ„ä¿®æ”¹`application-dev.properties`çš„é…ç½®ä¿¡æ¯
  - Redis è‹¥æ²¡æœ‰å¯†ç ï¼Œç•™ç©ºå³å¯
  - æ³¨æ„ä¿®æ”¹`token.secretKey`ï¼Œå¦åˆ™æ— æ³•ä¿è¯ token å®‰å…¨æ€§
  - `spring.mail.host`åŠ`spring.mail.port`çš„é»˜è®¤é…ç½®ä¸ºé˜¿é‡Œäº‘é‚®ç®±ï¼Œå…¶å®ƒé‚®ç®±æœåŠ¡å•†å‚è€ƒå…³é”®å­—`spring mail æœåŠ¡å™¨`ï¼ˆé‚®ç®±é…ç½®ç”¨äºæ¥æ”¶è¯„è®ºæé†’ï¼‰



## éšè—åŠŸèƒ½

- åœ¨å‰å°è®¿é—®`/login`è·¯å¾„ç™»å½•åï¼Œå¯ä»¥ä»¥åšä¸»èº«ä»½ï¼ˆå¸¦æœ‰åšä¸»æ ‡è¯†ï¼‰å›å¤è¯„è®ºï¼Œä¸”ä¸éœ€è¦å¡«å†™æ˜µç§°å’Œé‚®ç®±å³å¯æäº¤
- åœ¨ Markdown ä¸­åŠ å…¥`<meting-js server="netease" type="song" id="æ­Œæ›²id" theme="#25CCF7"></meting-js>` ï¼ˆæ³¨æ„ä»¥æ­£æ–‡å½¢å¼æ·»åŠ ï¼Œè€Œä¸æ˜¯ä»£ç ç‰‡æ®µï¼‰å¯ä»¥åœ¨æ–‡ç« ä¸­æ·»åŠ  [APlayer](https://github.com/DIYgod/APlayer) éŸ³ä¹æ’­æ”¾å™¨ï¼Œ`netease`ä¸ºç½‘æ˜“äº‘éŸ³ä¹ï¼Œå…¶å®ƒé…ç½®åŠå…·ä½“ç”¨æ³•å‚è€ƒ [MetingJS](https://github.com/metowolf/MetingJS)
- æä¾›äº†ä¸¤ç§éšè—æ–‡å­—æ•ˆæœï¼šåœ¨ Markdown ä¸­ä½¿ç”¨`@@`åŒ…ä½æ–‡å­—ï¼Œæ–‡å­—ä¼šè¢«æ¸²æŸ“æˆâ€œé»‘å¹•â€æ•ˆæœï¼Œé¼ æ ‡æ‚¬æµ®åœ¨ä¸Šé¢æ—¶æ‰ä¼šæ˜¾ç¤ºï¼›ä½¿ç”¨`%%`åŒ…ä½æ–‡å­—ï¼Œæ–‡å­—ä¼šè¢«â€œè“è‰²è¦†ç›–å±‚â€é®ç›–ï¼Œåªæœ‰é¼ æ ‡é€‰ä¸­çŠ¶æ€æ‰ä¼šåè‰²æ˜¾ç¤ºã€‚ä¾‹å¦‚ï¼š`@@éšè—æ–‡å­—@@`ï¼Œ`%%éšè—æ–‡å­—%%`
- å¤§éƒ¨åˆ†ä¸ªæ€§åŒ–é…ç½®å¯ä»¥åœ¨åå°â€œç«™ç‚¹è®¾ç½®â€ä¸­ä¿®æ”¹ï¼Œå°éƒ¨åˆ†ç”±äºè€ƒè™‘åˆ°é¦–å±åŠ è½½é€Ÿåº¦ï¼ˆå¦‚é¦–é¡µå¤§å›¾ï¼‰éœ€è¦ä¿®æ”¹å‰ç«¯æºç 



## And...

è‡ªç”¨åšå®¢ï¼Œé•¿æœŸç»´æŠ¤ï¼Œæ¬¢è¿å‹˜è¯¯



## Thanks

æ„Ÿè°¢ [JetBrains](https://www.jetbrains.com/) æä¾›çš„éå•†ä¸šå¼€æºè½¯ä»¶ License

æ„Ÿè°¢ä¸Šé¢æåˆ°çš„æ¯ä¸ªå¼€æºé¡¹ç›®
